x := 0; z := 0; y := 0; k := 0;
{
  r0 := z;
  x := r0
} ||| {
  y.store(1, nonatomic);
  k.store(42, release)
} ||| {
  r3 := k.load(acquire);
  if (r3 = 42) {
    r1 := x;
    if (r1 = 1) {
      z := r1;
      //print ("boom")
    } else {
      r2 := y.load(nonatomic);
      z := r2
    }
  }
}
%%
forbid (r3 = 42 && r1 = 1) []
