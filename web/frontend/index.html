<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mordor - Event Structure Visualizer</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>ðŸ”® Mordor - Event Structure Visualizer</h1>
            <div class="header-controls">
                <label>
                    Steps: 
                    <input type="number" id="step-counter" value="5" min="1" max="100">
                </label>
                <button id="visualize-btn" class="btn-primary">Visualize</button>
                <button id="clear-btn" class="btn-secondary">Clear</button>
            </div>
        </header>

        <!-- Main content area -->
        <div class="main-content">
            <!-- Left panel: Litmus source editor -->
            <div class="panel left-panel">
                <div class="panel-header">
                    <h2>Litmus Source</h2>
                    <div class="examples-dropdown">
                        <label for="examples">Load Example:</label>
                        <select id="examples">
                            <option value="">-- Select Example --</option>
                            <option value="sb">Store Buffering (SB)</option>
                            <option value="mp">Message Passing (MP)</option>
                            <option value="lb">Load Buffering (LB)</option>
                        </select>
                    </div>
                </div>
                <textarea 
                    id="litmus-input" 
                    placeholder="Enter your litmus test here...

Example:
name = SB
%%
{ x := 1 } ||| { y := 1 }
%% allow (x = 0 && y = 0) [rc11]"
                ></textarea>
            </div>

            <!-- Right panel: Event structure visualization -->
            <div class="panel right-panel">
                <div class="panel-header">
                    <h2>Event Structure</h2>
                    <div class="status" id="status">Ready</div>
                </div>
                <div id="visualization" class="visualization-container">
                    <div class="empty-state">
                        <svg width="100" height="100" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="40" fill="none" stroke="#ccc" stroke-width="2"/>
                            <path d="M 30 50 L 50 30 L 70 50" fill="none" stroke="#ccc" stroke-width="2"/>
                        </svg>
                        <p>Enter litmus source and click "Visualize" to see the event structure</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer with log/status -->
        <footer>
            <div class="log-header">
                <h3>Progress Log</h3>
                <button id="clear-log-btn" class="btn-small">Clear Log</button>
            </div>
            <div id="log" class="log-container"></div>
        </footer>
    </div>

    <script src="/static/examples.js"></script>
    <script src="/static/app.js"></script>
</body>
</html>
